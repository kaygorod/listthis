<div class="list">
  <h2>Создание нового списка</h2>
  <%= form_for :list , url: lists_path do |f| %>
    <p>
      <%= f.label "Название" %><br>
      <%= f.text_field :title, class:"form-control" %>
    </p>

    <p>
      <%= f.label "Описание" %><br>
      <%= f.text_area :description, :class => "tinymce",
                      :rows => 10, class:"form-control" %>
    </p>

     <p>
        <fieldset>
          <div class="input-file-row-1">
            <div class="upload-file-container">
              <img id="image" src="#" alt="" />
              <div class="upload-file-container-text">
                <span>Добавить<br />кртинку</span>
                <%= f.file_field :image, class:"photo", id:"imgInput" %>
              </div>
            </div>
          </div>
        </fieldset>
    </p>

    <p>
      <%= f.submit "Сохранить", class:"btn btn-primary"  %>
    </p>
  <% end %>
</div>





<script>
function readURL(input) {

    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#image').attr('src', e.target.result);
        };

        reader.readAsDataURL(input.files[0]);
    }
}

$("#imgInput").change(function(){
    readURL(this);
});
</script>
